@use "sass:map";
@use "sass:color";
@use "sass:math";
@use "vars";

.bookmarks {
    position: relative;
    border-radius: vars.$corner;
    border: 1px solid vars.$mocha_surface0;
    background-color: vars.$mocha_mantle;

    height: 80vh;
    max-height: 80vh;
    width: 100%;

    display: flex;
    flex-direction: column;

    & .header {
        display: flex;
        flex-direction: row;
        align-items: center;

        padding: 0.5rem 1rem;

        border-bottom: 1px solid vars.$mocha_surface0;

        & h2 {
            font-family: "Bellota", cursive;
            font-size: 1.5rem;
            font-weight: 300;
            margin: 0;
        }
    }

    & .content {
        flex-grow: 1;
        overflow-y: auto;
        padding: vars.$gap;
    }

    & .footer {
        display: flex;
        justify-content: end;
        align-items: center;
        padding: 0.5rem 1rem;
        gap: math.div(vars.$gap, 2);

        border-top: 1px solid vars.$mocha_surface0;

        & button {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 2rem;
            height: 2rem;
            border-radius: vars.$corner;
            background-color: transparent;
            border: 1px solid map.get(vars.$mocha_colors, "mauve");
            color: map.get(vars.$mocha_colors, "mauve");
            cursor: pointer;

            transition:
                background-color 0.25s ease-in-out,
                color 0.25s ease-in-out;

            &:hover {
                background-color: map.get(vars.$mocha_colors, "mauve");
                color: vars.$mocha_mantle;
            }

            & svg {
                height: 1rem;
                width: 1rem;
            }
        }
    }
}

ul.bookmark_list {
    list-style-type: none;
    padding: 0;
    margin: 0;

    & li.bookmark_item {
        display: flex;
        flex-direction: column;
        user-select: none;

        & .bookmark_title {
            display: flex;
            flex-direction: row;
            align-items: center;
            cursor: pointer;
            padding: 0.25rem 0.5rem;
            gap: math.div(vars.$gap, 2);
            border-radius: math.div(vars.$corner, 2);

            &:hover {
                background-color: color.scale(
                    map.get(vars.$mocha_colors, "mauve"),
                    $alpha: -80%
                );
                color: map.get(vars.$mocha_colors, "mauve");

                & .bookmark_actions {
                    display: flex;
                }
            }

            & .bookmark_actions {
                display: none;
                flex-direction: row;
                align-items: center;
                gap: math.div(vars.$gap, 4);

                & .bookmark_action {
                    &:hover {
                        color: color.scale(
                            map.get(vars.$mocha_colors, "mauve"),
                            $lightness: -10%
                        );
                    }
                }
            }
        }

        & .bookmark_children {
            padding-left: 1.5rem;
        }
    }
}
